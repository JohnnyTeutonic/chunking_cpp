\chapter{Building Instructions}
\hypertarget{index}{}\label{index}\index{Building Instructions@{Building Instructions}}
\label{index_md__2mnt_2c_2Users_2jonat_2OneDrive_2Documents_2Python_01Scripts_2chunking__cpp_2BUILDING}%
\Hypertarget{index_md__2mnt_2c_2Users_2jonat_2OneDrive_2Documents_2Python_01Scripts_2chunking__cpp_2BUILDING}%
 \hypertarget{index_prerequisites}{}\doxysection{\texorpdfstring{Prerequisites}{Prerequisites}}\label{index_prerequisites}

\begin{DoxyItemize}
\item C++17 compiler (g++ or clang++)
\item Make
\item Google Test (for testing)
\item Doxygen (for documentation)
\item Graphviz (for documentation graphs)
\item CMake 3.\+10 or higher
\item pybind11 (for Python bindings)
\end{DoxyItemize}\hypertarget{index_installing-dependencies}{}\doxysection{\texorpdfstring{Installing Dependencies}{Installing Dependencies}}\label{index_installing-dependencies}
\hypertarget{index_ubuntudebian}{}\doxysubsection{\texorpdfstring{Ubuntu/\+Debian}{Ubuntu/Debian}}\label{index_ubuntudebian}

\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Install\ build\ tools}
\DoxyCodeLine{sudo\ apt-\/get\ update}
\DoxyCodeLine{sudo\ apt-\/get\ install\ g++\ make\ cmake}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Install\ Google\ Test}
\DoxyCodeLine{sudo\ apt-\/get\ install\ libgtest-\/dev\ cmake}
\DoxyCodeLine{cd\ /usr/src/gtest}
\DoxyCodeLine{sudo\ cmake\ CMakeLists.txt}
\DoxyCodeLine{sudo\ make}
\DoxyCodeLine{sudo\ cp\ lib/*.a\ /usr/lib}
\DoxyCodeLine{sudo\ ln\ -\/s\ /usr/src/gtest/include/gtest\ /usr/include/gtest}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Install\ documentation\ and\ tools}
\DoxyCodeLine{sudo\ apt-\/get\ install\ doxygen\ gnuplot\ graphviz\ libboost-\/all-\/dev\ python3-\/pybind11}

\end{DoxyCode}
\hypertarget{index_macos}{}\doxysubsection{\texorpdfstring{mac\+OS}{macOS}}\label{index_macos}

\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Install\ build\ tools}
\DoxyCodeLine{xcode-\/select\ -\/-\/install}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Install\ Google\ Test}
\DoxyCodeLine{brew\ install\ googletest}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Install\ documentation\ tools}
\DoxyCodeLine{brew\ install\ doxygen\ graphviz\ boost}

\end{DoxyCode}
\hypertarget{index_windows}{}\doxysubsection{\texorpdfstring{Windows}{Windows}}\label{index_windows}

\begin{DoxyEnumerate}
\item Install Min\+GW or Visual Studio
\item Install vcpkg
\item Install Google Test through vcpkg\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{vcpkg\ install\ gtest:x64-\/windows}

\end{DoxyCode}
\hypertarget{index_python-bindings}{}\doxysection{\texorpdfstring{Python Bindings}{Python Bindings}}\label{index_python-bindings}
To build the Python bindings, you need to have Python and pybind11 installed\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Method\ 1:\ Using\ pip\ (recommended)}
\DoxyCodeLine{pip\ install\ pybind11[global]}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Method\ 2:\ Using\ system\ package\ manager\ (Ubuntu/Debian)}
\DoxyCodeLine{sudo\ apt-\/get\ install\ python3-\/dev\ python3-\/pybind11}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ If\ you're\ using\ conda,\ ensure\ you\ have\ the\ latest\ libstdc++:}
\DoxyCodeLine{conda\ install\ -\/c\ conda-\/forge\ libstdcxx-\/ng\ pybind11[global]}

\end{DoxyCode}


On ubuntu/debian, you can install pybind11 using\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ apt-\/get\ install\ python3-\/pybind11}

\end{DoxyCode}


You then can install the Python bindings (and pytest) using the setup.\+py script\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{pip\ install\ .}

\end{DoxyCode}


You can then mock the same functionality in python\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ chunking\_cpp\ \textcolor{keyword}{import}\ chunking\_cpp\ \textcolor{keyword}{as}\ cc}
\DoxyCodeLine{}
\DoxyCodeLine{chunk\ =\ cc.Chunk(3)}
\DoxyCodeLine{chunk.add(1)}
\DoxyCodeLine{chunk.add(2)}
\DoxyCodeLine{chunk.add(3)}
\DoxyCodeLine{chunk.chunk\_by\_threshold(1.0)}

\end{DoxyCode}
\hypertarget{index_optional-dependencies}{}\doxysection{\texorpdfstring{Optional Dependencies}{Optional Dependencies}}\label{index_optional-dependencies}

\begin{DoxyItemize}
\item Postgre\+SQL
\item Mongo\+DB
\item Kafka
\item Rabbit\+MQ
\item JSON
\item Pytest
\item pytest-\/cov (for test coverage)
\end{DoxyItemize}

These can be installed on ubuntu/debian with\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ apt-\/get\ install\ libpq-\/dev\ libstdc++6\ libmongoc-\/dev\ \(\backslash\)}
\DoxyCodeLine{-\/\ \ \ \ \ librdkafka-\/dev\ librabbitmq-\/dev\ libjsoncpp-\/dev}
\DoxyCodeLine{+\ \ \ \ \ librdkafka-\/dev\ librdkafka++1\ librabbitmq-\/dev\ libjsoncpp-\/dev\ \(\backslash\)}
\DoxyCodeLine{+\ \ \ \ \ python3-\/pytest\ python3-\/pytest-\/cov}

\end{DoxyCode}
\hypertarget{index_configuration-options}{}\doxysection{\texorpdfstring{Configuration Options}{Configuration Options}}\label{index_configuration-options}
The project uses CMake for configuration. Available options\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{-\/DENABLE\_COVERAGE=ON\ \ \ \ \#\ Enable\ code\ coverage\ reporting}
\DoxyCodeLine{-\/DENABLE\_SANITIZERS=ON\ \ \#\ Enable\ address\ and\ undefined\ behavior\ sanitizers}
\DoxyCodeLine{-\/DBUILD\_TESTING=ON\ \ \ \ \ \ \#\ Enable\ building\ tests}

\end{DoxyCode}
\hypertarget{index_building-the-project}{}\doxysection{\texorpdfstring{Building the Project}{Building the Project}}\label{index_building-the-project}
1.\+Clone the repository\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{git\ clone\ git@github.com:JohnnyTeutonic/chunking\_cpp.git}
\DoxyCodeLine{cd\ chunking\_cpp}
\DoxyCodeLine{mkdir\ build\ \&\&\ cd\ build}

\end{DoxyCode}


2.\+Configure, build and install (with all options enabled by default)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./configure\ -\/-\/enable-\/tests\ -\/-\/enable-\/docs\ -\/-\/enable-\/sanitizers\ -\/-\/enable-\/coverage}
\DoxyCodeLine{make}

\end{DoxyCode}


3.\+Run tests\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make\ test}

\end{DoxyCode}


4.\+Generate documentation\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make\ docs}

\end{DoxyCode}


5.\+Serve documentation locally\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make\ docs-\/serve}

\end{DoxyCode}


6.\+Run tests with pytest\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make\ pytest}

\end{DoxyCode}


7.\+Run tests with pytest and coverage\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make\ pytest-\/coverage}

\end{DoxyCode}
\hypertarget{index_project-structure}{}\doxysection{\texorpdfstring{Project Structure}{Project Structure}}\label{index_project-structure}

\begin{DoxyCode}{0}
\DoxyCodeLine{.}
\DoxyCodeLine{├──\ .github/}
\DoxyCodeLine{│\ \ \ └──\ workflows/}
\DoxyCodeLine{│\ \ \ \ \ \ \ └──\ ci.yml}
\DoxyCodeLine{│\ \ \ \ \ \ \ └──\ docs.yml}
\DoxyCodeLine{├──\ docs/}
\DoxyCodeLine{│\ \ \ └──\ html/}
\DoxyCodeLine{├──\ bindings/}
\DoxyCodeLine{│\ \ \ └──\ python/}
\DoxyCodeLine{│\ \ \ \ \ \ \ └──\ chunk\_bindings.cpp}
\DoxyCodeLine{├──\ include/}
\DoxyCodeLine{│\ \ \ ├──\ chunk.hpp}
\DoxyCodeLine{│\ \ \ ├──\ config.hpp}
\DoxyCodeLine{│\ \ \ ├──\ chunk\_strategies.hpp}
\DoxyCodeLine{│\ \ \ ├──\ chunk\_compression.hpp}
\DoxyCodeLine{│\ \ \ ├──\ sub\_chunk\_strategies.hpp}
\DoxyCodeLine{│\ \ \ ├──\ parallel\_chunk.hpp}
\DoxyCodeLine{│\ \ \ ├──\ advanced\_structures.hpp}
\DoxyCodeLine{│\ \ \ ├──\ sophisticated\_chunking.hpp}
\DoxyCodeLine{│\ \ \ ├──\ data\_structures.hpp}
\DoxyCodeLine{│\ \ \ ├──\ neural\_chunking.hpp}
\DoxyCodeLine{│\ \ \ └──\ utils.hpp}
\DoxyCodeLine{├──\ src/}
\DoxyCodeLine{│\ \ \ ├──\ main.cpp}
\DoxyCodeLine{│\ \ \ ├──\ demo\_neural\_chunking.cpp}
\DoxyCodeLine{│\ \ \ └──\ sophisticated\_chunking\_demo.cpp}
\DoxyCodeLine{├──\ tests/}
\DoxyCodeLine{│\ \ \ ├──\ advanced\_chunk\_strategies\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ advanced\_structures\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ chunk\_compression\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ chunk\_strategies\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ chunking\_methods\_sophisticated\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ data\_structures\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ parallel\_chunk\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ sub\_chunk\_strategies\_test.cpp}
\DoxyCodeLine{│\ \ \ ├──\ test\_neuralnetwork.cpp}
\DoxyCodeLine{│\ \ \ ├──\ test\_main.cpp}
\DoxyCodeLine{│\ \ \ ├──\ python/}
\DoxyCodeLine{│\ \ \ │\ \ \ └──\ py\_bindings.py}
\DoxyCodeLine{│\ \ \ └──\ utils\_test.cpp}
\DoxyCodeLine{├──\ scripts/}
\DoxyCodeLine{│\ \ \ └──\ pybindings\_example.py}
\DoxyCodeLine{├──\ Makefile}
\DoxyCodeLine{├──\ CMakeLists.txt}
\DoxyCodeLine{├──\ Doxyfile}
\DoxyCodeLine{├──\ setup.py}
\DoxyCodeLine{├──\ README.md}
\DoxyCodeLine{├──\ BUILDING.md}
\DoxyCodeLine{└──\ LICENSE}

\end{DoxyCode}
\hypertarget{index_make-targets}{}\doxysection{\texorpdfstring{Make Targets}{Make Targets}}\label{index_make-targets}

\begin{DoxyItemize}
\item {\ttfamily make}\+: Build the project
\item {\ttfamily make run}\+: Run the main program
\item {\ttfamily make run-\/sophisticated}\+: Run the sophisticated chunking demo
\item {\ttfamily make test}\+: Run all tests
\item {\ttfamily make test-\/\texorpdfstring{$<$}{<}name\texorpdfstring{$>$}{>}}\+: Run specific test suite
\item {\ttfamily make docs}\+: Generate documentation
\item {\ttfamily make docs-\/serve}\+: Serve documentation locally
\item {\ttfamily make docs-\/clean}\+: Clean documentation build artifacts
\item {\ttfamily make docs-\/stop}\+: Stop documentation server
\item {\ttfamily make clean}\+: Clean build artifacts
\item {\ttfamily make format}\+: Format source code
\item {\ttfamily make format-\/check}\+: Check source code formatting
\item {\ttfamily make install}\+: Install the project
\item {\ttfamily make uninstall}\+: Uninstall the project
\item {\ttfamily make pytest}\+: Run tests with pytest
\item {\ttfamily make pytest-\/coverage}\+: Run tests with pytest and coverage
\end{DoxyItemize}\hypertarget{index_advanced-features}{}\doxysection{\texorpdfstring{Advanced Features}{Advanced Features}}\label{index_advanced-features}
\hypertarget{index_sub-chunking-strategies}{}\doxysubsection{\texorpdfstring{Sub-\/\+Chunking Strategies}{Sub-Chunking Strategies}}\label{index_sub-chunking-strategies}
The library provides several sub-\/chunking strategies\+:


\begin{DoxyItemize}
\item {\bfseries{Recursive Sub-\/chunking}}\+: Apply a strategy recursively to create hierarchical chunks
\item {\bfseries{Hierarchical Sub-\/chunking}}\+: Apply different strategies at each level
\item {\bfseries{Conditional Sub-\/chunking}}\+: Apply sub-\/chunking based on chunk properties
\end{DoxyItemize}

Example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{auto}\ strategy\ =\ std::make\_shared<VarianceStrategy<double>>(5.0);}
\DoxyCodeLine{RecursiveSubChunkStrategy<double>\ recursive(strategy,\ 2,\ 2);}
\DoxyCodeLine{\textcolor{keyword}{auto}\ sub\_chunks\ =\ recursive.apply(data);}

\end{DoxyCode}
\hypertarget{index_building-and-testing-sophisticated-chunking}{}\doxysubsection{\texorpdfstring{Building and Testing Sophisticated Chunking}{Building and Testing Sophisticated Chunking}}\label{index_building-and-testing-sophisticated-chunking}
To build and run the sophisticated chunking examples\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Build\ the\ project\ including\ sophisticated\ chunking\ demo}
\DoxyCodeLine{make}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Run\ the\ sophisticated\ chunking\ demo}
\DoxyCodeLine{./build/bin/sophisticated\_chunking\_demo}

\end{DoxyCode}


The sophisticated chunking features are implemented in\+:


\begin{DoxyItemize}
\item {\ttfamily \doxylink{sophisticated__chunking_8hpp}{include/sophisticated\+\_\+chunking.\+hpp}}\+: Core implementations
\item {\ttfamily \doxylink{sophisticated__chunking__demo_8cpp}{src/sophisticated\+\_\+chunking\+\_\+demo.\+cpp}}\+: Usage examples
\item {\ttfamily tests/chunking\+\_\+methods\+\_\+sophisticated\+\_\+test.\+cpp}\+: Unit tests
\end{DoxyItemize}\hypertarget{index_running-sophisticated-chunking-tests}{}\doxysubsection{\texorpdfstring{Running Sophisticated Chunking Tests}{Running Sophisticated Chunking Tests}}\label{index_running-sophisticated-chunking-tests}
To run only the sophisticated chunking tests\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cd\ build}
\DoxyCodeLine{ctest\ -\/R\ sophisticated}

\end{DoxyCode}


Or using make\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make\ test-\/sophisticated}

\end{DoxyCode}
\hypertarget{index_sophisticated-chunking-integration}{}\doxysubsection{\texorpdfstring{Sophisticated Chunking Integration}{Sophisticated Chunking Integration}}\label{index_sophisticated-chunking-integration}
To use sophisticated chunking in your project\+:


\begin{DoxyEnumerate}
\item Include the header\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sophisticated__chunking_8hpp}{sophisticated\_chunking.hpp}}"{}}}

\end{DoxyCode}


2.\+Link against the library in your CMake\+Lists.\+txt\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{target\_link\_libraries(your\_target\ PRIVATE\ sophisticated\_chunking)}

\end{DoxyCode}
\hypertarget{index_performance-considerations-for-sophisticated-chunking}{}\doxysubsection{\texorpdfstring{Performance Considerations for Sophisticated Chunking}{Performance Considerations for Sophisticated Chunking}}\label{index_performance-considerations-for-sophisticated-chunking}

\begin{DoxyItemize}
\item {\bfseries{Wavelet Chunking}}\+: O(n \texorpdfstring{$\ast$}{*} window\+\_\+size) complexity. Choose smaller window sizes for better performance.
\item {\bfseries{Mutual Information}}\+: O(n \texorpdfstring{$\ast$}{*} context\+\_\+size) complexity. Larger context sizes impact performance significantly.
\item {\bfseries{DTW Chunking}}\+: O(n \texorpdfstring{$\ast$}{*} window\+\_\+size²) complexity. Window size has quadratic impact on performance.
\end{DoxyItemize}\hypertarget{index_troubleshooting}{}\doxysubsection{\texorpdfstring{Troubleshooting}{Troubleshooting}}\label{index_troubleshooting}
If you encounter GLIBCXX version errors when installing the Python bindings\+:


\begin{DoxyEnumerate}
\item Update conda\textquotesingle{}s libstdc++\+: {\ttfamily conda install -\/c conda-\/forge libstdcxx-\/ng}
\item Or use system libraries\+: {\ttfamily export LD\+\_\+\+LIBRARY\+\_\+\+PATH=/usr/lib/x86\+\_\+64-\/linux-\/gnu\+:\$LD\+\_\+\+LIBRARY\+\_\+\+PATH}
\end{DoxyEnumerate}

The library version can be accessed through the following macros\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{CHUNKING\_VERSION\_MAJOR}
\DoxyCodeLine{CHUNKING\_VERSION\_MINOR}
\DoxyCodeLine{CHUNKING\_VERSION\_PATCH}

\end{DoxyCode}
 